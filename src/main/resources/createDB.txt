##first table


-- Table: public."rooms"

-- DROP TABLE public."rooms";

CREATE TABLE public."rooms"
(
    id integer NOT NULL DEFAULT nextval('"rooms_id_seq"'::regclass),
    compus_number integer NOT NULL,
    rooms_number integer NOT NULL,
    capacity integer NOT NULL,
    CONSTRAINT "Rooms_pkey" PRIMARY KEY (compus_number, rooms_number)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public."rooms"
    OWNER to postgres;

## second table

-- Table: public."subdivisions"

-- DROP TABLE public."subdivisions";

CREATE TABLE public."subdivisions"
(
    id integer NOT NULL DEFAULT nextval('"subdivisions_id_seq"'::regclass),
    "Code" integer NOT NULL,
    "Name" text COLLATE pg_catalog."default" NOT NULL,
    "codeOfHeadOfDivision" integer NOT NULL,
    CONSTRAINT subdivision_code PRIMARY KEY ("Code"),
    CONSTRAINT id UNIQUE (id),
    CONSTRAINT subdivisione_code_head FOREIGN KEY ("codeOfHeadOfDivision")
        REFERENCES public."subdivisions" ("Code") MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
        NOT VALID
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public."subdivisions"
    OWNER to postgres;
COMMENT ON TABLE public."subdivisions"
    IS 'list of subdivisions';

## third table

-- Table: public."teachers"

-- DROP TABLE public."teachers";

CREATE TABLE public."teachers"
(
    id integer NOT NULL DEFAULT nextval('"teachers_id_seq"'::regclass),
    surname text COLLATE pg_catalog."default" NOT NULL,
    name text COLLATE pg_catalog."default" NOT NULL,
    middle_name text COLLATE pg_catalog."default" NOT NULL,
    abbreviation text COLLATE pg_catalog."default" NOT NULL,
    passport_data text COLLATE pg_catalog."default" NOT NULL,
    subdivision_code integer NOT NULL,
    CONSTRAINT "Teachers_pkey" PRIMARY KEY (passport_data),
    CONSTRAINT subdivision_code FOREIGN KEY (subdivision_code)
        REFERENCES public."subdivisions" ("Code") MATCH SIMPLE
        ON UPDATE RESTRICT
        ON DELETE RESTRICT
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public."teachers"
    OWNER to postgres;